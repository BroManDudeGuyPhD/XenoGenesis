<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="../../css/style.css" />
    <title>X</title>
    <link rel="stylesheet" href="/client/css/style.css">
    <link rel="icon" type="image/x-icon" href="../client/img/favicon.png">
</head>

<body style="background-color: #2c2f33;">
    <!-- <div id="signDiv" class="signIn">
        Username: <input id="signDiv-username" type="text"></input><br>
        Password: <input id="signDiv-password" type="password"></input><br>
        <button id="signDiv-signIn">Sign In</button>
        <button id="signDiv-signUp">Sign Up</button>
    </div> -->

    <header class="header">
        <nav class="navbar">
            <a href="#" class="nav-logo">XenoGenesis</a>
            <ul class="nav-menu">
                <!-- <li class="nav-item">
                    <a href="#" class="nav-link">Game</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">About</a>
                </li> -->
                <li class="nav-item">
                    <button style="width:auto;" id="loginNav">Login</button>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>


    <div id="id01" class="modal">
        <div class="modal-content animate">
            <div class="imgcontainer">
                <span onclick="document.getElementById('id01').style.display='none'" class="close"
                    title="Close Modal">&times;</span>
                <!-- <img src="../../img/favicon.png" alt="Avatar" class="avatar"> -->
            </div>

            <div class="container">
                <label for="uname"><b>Username</b></label>
                <input type="text" placeholder="Enter Username" id="username"name="uname" required>

                <label for="psw"><b>Password</b></label>
                <input type="password" placeholder="Enter Password" id="password" name="psw" required>

                <button type="button" id="signIn" class="btn">Login</button>
                <button type="button" id="signUp" class="btn">Sign Up</button>
                <label>
                    <input type="checkbox" checked="checked" name="remember"> Remember me
                </label>
            </div>

            <div class="container" style="background-color:#f1f1f1">
                <button type="button" onclick="document.getElementById('id01').style.display='none'"
                    class="cancelbtn">Cancel</button>
                <span class="psw">Forgot <a href="#">password?</a></span>
            </div>
        </div>
    </div>

    <div id="landingPage">
        <img src="/client/img/meht-solar-pixels.jpg" id="backgroundIMG">
    </div>

    <!-- Game Interface Container (initially hidden) -->
    <div id="gameDiv" style="display: none; width: 100%; max-width: 1200px; margin: 20px auto;">
        <!-- Behavioral Economics Experiment Interface -->
        <div id="experimentContainer" style="width: 100%; background-color: #36393f; padding: 20px; border-radius: 10px; box-sizing: border-box;">
            
            <!-- Header with experiment info -->
            <div id="experimentHeader" style="background-color: #40444b; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                <h2 style="color: #ffffff; margin: 0; text-align: center;">Behavioral Economics Experiment</h2>
                <div id="triadStatus" style="color: #b9bbbe; text-align: center; margin-top: 10px;">
                    <span id="playerCount">Waiting for players...</span>
                    <span id="playerPosition" style="margin-left: 20px;"></span>
                </div>
            </div>

            <!-- Experiment Status Panel -->
            <div id="statusPanel" style="display: flex; gap: 20px; margin-bottom: 20px;">
                <div class="status-card" style="background-color: #40444b; padding: 15px; border-radius: 5px; flex: 1; text-align: center;">
                    <h3 style="color: #ffffff; margin: 0; font-size: 18px;">Round</h3>
                    <span id="currentRound" style="color: #7289da; font-size: 24px; font-weight: bold;">0</span>
                    <span style="color: #b9bbbe;"> / </span>
                    <span id="maxRounds" style="color: #b9bbbe; font-size: 18px;">500</span>
                </div>
                <div class="status-card" style="background-color: #40444b; padding: 15px; border-radius: 5px; flex: 1; text-align: center;">
                    <h3 style="color: #ffffff; margin: 0; font-size: 18px;">White Tokens</h3>
                    <span id="whiteTokens" style="color: #43b581; font-size: 24px; font-weight: bold;">0</span>
                </div>
                <div class="status-card" style="background-color: #40444b; padding: 15px; border-radius: 5px; flex: 1; text-align: center;">
                    <h3 style="color: #ffffff; margin: 0; font-size: 18px;">Black Tokens</h3>
                    <span id="blackTokens" style="color: #f04747; font-size: 24px; font-weight: bold;">0</span>
                </div>
                <div class="status-card" style="background-color: #40444b; padding: 15px; border-radius: 5px; flex: 1; text-align: center;">
                    <h3 style="color: #ffffff; margin: 0; font-size: 18px;">Earnings</h3>
                    <span id="totalEarnings" style="color: #faa61a; font-size: 24px; font-weight: bold;">$0.00</span>
                </div>
            </div>

            <!-- Poker Table Container -->
            <div id="pokerTable" style="position: relative; width: 100%; height: 400px; background-color: #2c2f33; border-radius: 10px; margin-bottom: 20px;">
                
                <div id="leftPlayer" class="poker-seat" style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); width: 120px; height: 80px; background-color: #36393f; border: 2px solid #7289da; border-radius: 8px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <div class="player-name" style="color: #ffffff; font-size: 14px; font-weight: bold;"></div>
                    <div class="player-status" style="color: #b9bbbe; font-size: 12px;"></div>
                    <div class="ai-indicator" style="color: #faa61a; font-size: 10px; display: none;">ðŸ¤– AI</div>
                </div>
                
                <div id="topPlayer" class="poker-seat" style="position: absolute; top: 20px; left: 50%; transform: translateX(-50%); width: 120px; height: 80px; background-color: #36393f; border: 2px solid #7289da; border-radius: 8px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <div class="player-name" style="color: #ffffff; font-size: 14px; font-weight: bold;"></div>
                    <div class="player-status" style="color: #b9bbbe; font-size: 12px;"></div>
                    <div class="ai-indicator" style="color: #faa61a; font-size: 10px; display: none;">ðŸ¤– AI</div>
                </div>
                
                <div id="rightPlayer" class="poker-seat" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); width: 120px; height: 80px; background-color: #36393f; border: 2px solid #7289da; border-radius: 8px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <div class="player-name" style="color: #ffffff; font-size: 14px; font-weight: bold;"></div>
                    <div class="player-status" style="color: #b9bbbe; font-size: 12px;"></div>
                    <div class="ai-indicator" style="color: #faa61a; font-size: 10px; display: none;">ðŸ¤– AI</div>
                </div>
                
                <!-- Moderator Position -->
                <div id="moderatorPosition" class="moderator-seat" style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); width: 120px; height: 70px; background-color: #2c2f33; border: 2px solid #43b581; border-radius: 8px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <div class="moderator-name" style="color: #43b581; font-size: 11px; font-weight: bold;">Waiting for Moderator...</div>
                    <div style="color: #43b581; font-size: 10px; font-weight: bold;">Moderator</div>
                    <div style="color: #b9bbbe; font-size: 9px;">Game Host</div>
                </div>
                
                <!-- Table Center -->
                <div id="tableCenter" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100px; height: 60px; background-color: #2c2f33; border: 2px solid #72767d; border-radius: 8px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <div style="color: #ffffff; font-size: 12px; font-weight: bold;">Round</div>
                    <div id="tableRound" style="color: #7289da; font-size: 16px;">0</div>
                </div>
            </div>

            <!-- Main Game Area -->
            <div id="gameArea" style="background-color: #40444b; padding: 20px; border-radius: 5px; margin-bottom: 20px; min-height: 400px;">
                
                <!-- Lobby Phase -->
                <div id="lobbyPhase" style="text-align: center; padding: 50px;">
                    <h2 style="color: #ffffff; margin-bottom: 20px;">Waiting for Triad Formation</h2>
                    <p style="color: #b9bbbe; font-size: 18px; margin-bottom: 30px;">Moderator ready - need 3 more players to begin the experiment</p>
                    <div id="playerList" style="color: #7289da; font-size: 16px;"></div>
                    <button id="startExperimentBtn" style="display: none; background-color: #43b581; color: white; padding: 15px 30px; font-size: 18px; border: none; border-radius: 5px; cursor: pointer; margin-top: 20px;">
                        Start Experiment
                    </button>
                </div>

                <!-- Decision Grid Phase -->
                <div id="decisionPhase" style="display: none; text-align: center;">
                    <div id="roundInfo" style="margin-bottom: 30px;">
                        <h3 id="activePlayer" style="color: #ffffff; margin-bottom: 10px;"></h3>
                        <p id="conditionInfo" style="color: #b9bbbe; font-size: 16px;"></p>
                        <p id="tokenPoolInfo" style="color: #faa61a; font-size: 14px;"></p>
                    </div>

                    <!-- 2x3 Decision Grid -->
                    <div id="decisionGrid" style="margin: 30px auto; max-width: 600px;">
                        <div style="color: #ffffff; margin-bottom: 15px; font-size: 18px;">Choose Your Action:</div>
                        
                        <!-- Row 1 (Impulsive - Odd) -->
                        <div class="grid-row" style="display: flex; margin-bottom: 15px; justify-content: center;">
                            <span style="color: #ffffff; width: 120px; text-align: right; padding-right: 20px; line-height: 50px;">Impulsive:</span>
                            <button class="grid-cell impulsive" data-choice="impulsive" data-col="1" style="width: 80px; height: 50px; margin: 0 5px; border: 2px solid #f04747; background-color: #40444b; color: #ffffff; cursor: pointer;">
                                <span class="grid-symbol">+</span>
                            </button>
                            <button class="grid-cell impulsive" data-choice="impulsive" data-col="2" style="width: 80px; height: 50px; margin: 0 5px; border: 2px solid #f04747; background-color: #40444b; color: #ffffff; cursor: pointer;">
                                <span class="grid-symbol">-</span>
                            </button>
                            <button class="grid-cell impulsive" data-choice="impulsive" data-col="3" style="width: 80px; height: 50px; margin: 0 5px; border: 2px solid #f04747; background-color: #40444b; color: #ffffff; cursor: pointer;">
                                <span class="grid-symbol">+</span>
                            </button>
                        </div>

                        <!-- Row 2 (Self-Control - Even) -->
                        <div class="grid-row" style="display: flex; justify-content: center;">
                            <span style="color: #ffffff; width: 120px; text-align: right; padding-right: 20px; line-height: 50px;">Self-Control:</span>
                            <button class="grid-cell self-control" data-choice="self-control" data-col="1" style="width: 80px; height: 50px; margin: 0 5px; border: 2px solid #43b581; background-color: #40444b; color: #ffffff; cursor: pointer;">
                                <span class="grid-symbol">-</span>
                            </button>
                            <button class="grid-cell self-control" data-choice="self-control" data-col="2" style="width: 80px; height: 50px; margin: 0 5px; border: 2px solid #43b581; background-color: #40444b; color: #ffffff; cursor: pointer;">
                                <span class="grid-symbol">+</span>
                            </button>
                            <button class="grid-cell self-control" data-choice="self-control" data-col="3" style="width: 80px; height: 50px; margin: 0 5px; border: 2px solid #43b581; background-color: #40444b; color: #ffffff; cursor: pointer;">
                                <span class="grid-symbol">-</span>
                            </button>
                        </div>
                    </div>

                    <div id="choiceStatus" style="margin-top: 30px; color: #b9bbbe; font-size: 16px;"></div>
                </div>

                <!-- Round Results Phase -->
                <div id="resultsPhase" style="display: none; text-align: center;">
                    <h3 style="color: #ffffff; margin-bottom: 20px;">Round Results</h3>
                    <div id="roundResults" style="color: #b9bbbe; margin-bottom: 20px;"></div>
                    <div id="tokenUpdate" style="color: #43b581; font-size: 18px; margin-bottom: 20px;"></div>
                    <div id="culturantStatus" style="color: #7289da; font-size: 16px;"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="chat-container" class="chat-container" style="display:none;">
        <header class="chat-header">
            <i class="fa-thin fa-globe-stand"></i>
            <a id="create-btn" class="btn">Create Room</a>
            <a id="join-btn" class="btn">Join Room</a>
            <a id="leave-btn" class="btn" style="color:red">Leave Room</a>
        </header>
        <main class="chat-main">
            <div class="chat-sidebar">
                <h3><i class="fas fa-comments" id="rooms"></i> Rooms:</h3>
                <div id="rooms">
                    <h2 id="global-name">Global</h2>
                    <h2 id="room-name" style="display:none;"></h2>
                </div>
                <h3><i class="fas fa-users" id="userCount"></i></h3>
                <ul id="users"></ul>
            </div>
            <div class="chat-messages" id="globalChatDiv"></div>
            <div class="chat-messages" id="roomChatDiv" style="display:none"></div>
        </main>
        <div class="chat-form-container">
            <form id="chat-form">
                <input id="msg" type="text" placeholder="Enter Message" required autocomplete="off" />
                <button class="btn" id="sendButton"><i class="fas fa-paper-plane"></i> Send</button>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.9.2/qs.min.js"
        integrity="sha256-TDxXjkAUay70ae/QJBEpGKkpVslXaHHayklIVglFRT4=" crossorigin="anonymous"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/client/Inventory.js"></script>
    <script type="text/javascript" src="/client/client.js"></script>

    <script>


    </script>

</body>

</html>